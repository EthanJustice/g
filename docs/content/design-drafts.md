# G Language Design Drafts

This page is taken from a private repo of mine; this version may occassionalyl be out of sync.

`Notes, ideas, and speculations on the G language.`

Note that this is all early drafts; as such, G may change significantly.

## Overview

+ focused at beginners/artists
+ relatively simplistic

## Targets

+ JS
+ WASM in the future?

## Meta

`G lang meta.`

+ [ ] compiler (`gc`)
  + [ ] build (`gc build`) - compiles G code
    + [ ] release (`gc build --release`, `gc build -r`) - compiles optimised release version of the code
      + [ ] exp - creates explanation of art creation (`///` comments)
  + [ ] run (`gc run`) - compiles (`gc build`) and runs the output in the browser
  + [ ] doc (`gc doc`) - creates documentation
  + [ ] formatter (`fmt`) - single, universal code formatter
+ [ ] online playground (`play.lang.domain`)
+ [ ] decide on file extension
+ [ ] decide on final language name
+ [ ] docs

## Compiler

+ output: `.html`, `.css`, `.js` (maybe wasm in the far future)

## Configuration

+ [ ] decide if configuration file is necessary

## Modules

+ maths
  + geometry
    + canvas geometry utilities (intersections, etc.)
+ interfaces
  + g -> js
  + js -> g
+ colours
  + conversion

### builtin

+ manipulatable variables (e.g. ones that are set throughout, but can be manipulated at the start)
+ canvas manipulations
  + geometry
    + basics (squares, rectangles, arcs, circles, etc.)
  + transformations

## Performance

+ minify output code
+ use [Web Workers API - Web APIs | MDN](https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API)

## Runtime

+ runtime is in the browser
+ final product will be generated by the compiler, can be modified before or after compilation
+ utilities for end-user manipulation will be generated by the compiler (some built-in, e.g. a regeneration button; others will be generated by the compiler, like a variable that can be manipulated)

### Customisation

#### Theming

## Syntax

### Conventions

+ [ ] decide on semicolons for line endings

#### Variable Conventions

+ `snake_case`
+ only alphabetical characters and underscores (`_`)

### Comments

+ `//` `//` for comments on the code
+ `///` `///` for process comments comments
  + process is a simplified and plain explanation of how the art is created (e.g. `Randomly selects a number between one and ten, and generates that many squares.`)
+ `//!` `//` for documentation comments

```g
pattern square(x, y, l, w) {
    1 + 2
    //
}
```

### Flow Control

#### If/Else

+ when comparing variable equality, variable conditionals can be separated by commas to check multiple variables' values at once (e.g. `(x, y, z == 10)` rather than `(x == 10 && y == 10 && z == 10)`)

#### match

+ will be similar to Rust's match operator

### Loops

#### For

### Functions

+ keyword: `fn`

```g
fn add_two(x, y) {

}
```

#### Return Values

### Keywords

A list of all keywords and reserved names.

+ `as`
+ `const`
+ `let`
+ `fn`
+ `man`
+ `run`
+ `pattern`
+ `use`

### Module Syntax

+ keyword: `use`
+ syntax: `use "${module_name}"`
+ modules can be from the standard library or a URL (e.g. a GitHub Gist)
+ must be the first thing declared in a G file

```g
use "math"
use "https://random-site.com/file/square.gl"

run() {
    // ...
}
```

### run()

+ `run()` is always invoked (like Rust's `fn main()`)

```g
pattern square(x, y, l, w) {
    // ...
    canvas.draw();
}

run() {
    let i = 0;

    for (i; i < 10; i++) {
        square(0, 0, canvas.length - i, canvas.width - i)
    }
}
```

### Operators

+ `addend + addend` addition
+ `minuhend - subtrahend` subtraction
+ `dividend / divisor` division
  + `dividend % divisor` remainder division
+ `factor * factor` multiplication
+ `base ** exponent` exponent
+ `radicand */* radical` roots

```g
let x = 16

let y = x + 16

let z = y - 16

let a = x / 4

let b = x % 4

let c = a * b

let d = a ** 2

let e = (x ** 2) /* 2
```

### pattern

+ keyword: `pattern`
+ patterns define a shape (similar to functions, but used for repeating and isolating shapes)
+ [ ] decide on rename to `figure` (`fig` keyword)

```g
pattern square(x, y, l, w) {
  // ...
}
```

### Variables

+ three variable types:
  + `const` - standard immutable variable
  + `let` - standard mutable variable
  + `man` - can be manipulated at runtime
+ keyword: `const` (unchangeable variables)
  + syntax: `const variable_name = value`
+ keyword: `let` (because we ask nicely)
  + syntax: `let variable_name = value`
  + can be immutably changed
+ keyword: `man` (manipulatable)
  + syntax: `man "Name of Variable Plainly" as internal_variable_name = value`
  + `"Name of Variable Plainly"` will be shown at runtime
  + `"internal_variable_name"` is the variable name that will be used throughout the code
  + `value` is a value of any type or function

```g
man "Decay Rate" as decay_rate = 0.9
```

## Types

+ will probably rely heavily on JavaScript's type system
